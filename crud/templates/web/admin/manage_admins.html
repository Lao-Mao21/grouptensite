{% extends 'base/base.html' %}
{% load static %}

{% block title %}Manage Admins{% endblock title %}

{% block content %}
<div id="manage-admins-modal" class="min-h-screen bg-gray-100 flex sm:flex-row flex-col">
    {% include "attachments/sidebar.html" %}
    <div class="w-fit h-fit mx-auto my-auto bg-white rounded-xl shadow-md p-6">
        <div class="flex-1 p-4 sm:p-8">
            <h2 class="text-2xl font-semibold mb-6 text-gray-800">Manage Admins</h2>
            <table class="min-w-full bg-gray-100 shadow-md rounded-md">
                <thead>
                    <tr>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Full Name</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Username</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Phone Number</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Address</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Gender</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date of Birth</th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Is Active</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    {% for admin in admins %}
                        <tr>
                            <td class="px-4 py-4 whitespace-nowrap">{{ admin.first_name }} {{ admin.middle_name }} {{ admin.last_name }}</td>
                            <td class="px-4 py-4 whitespace-nowrap">{{ admin.username }}</td>
                            <td class="px-4 py-4 whitespace-nowrap">{{ admin.email }}</td>
                            <td class="px-4 py-4 whitespace-nowrap">{{ admin.phone_number }}</td>
                            <td class="px-4 py-4 whitespace-nowrap">{{ admin.address }}</td>
                            <td class="px-4 py-4 whitespace-nowrap">{{ admin.gender }}</td>
                            <td class="px-4 py-4 whitespace-nowrap">{{ admin.date_of_birth }}</td>
                            <td class="px-4 py-4 whitespace-nowrap">{{ admin.is_active }}</td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="12" class="text-center py-2 rounded-b-md text-gray-500">No admins found.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <!-- Pagination -->
            {% if admins.has_other_pages %}
            <div class="flex justify-center items-center gap-2 mt-4">
                {% if admins.has_previous %}
                    <a href="?page={{ admins.previous_page_number }}" class="px-3 py-1 border rounded hover:bg-blue-100">
                        <span class="material-icons text-base">arrow_back</span>
                    </a>
                {% endif %}
                {% for num in admins.paginator.page_range %}
                    {% if admins.number == num %}
                        <span class="px-3 py-1 bg-blue-600 text-white rounded">{{ num }}</span>
                    {% else %}
                        <a href="?page={{ num }}" class="px-3 py-1 border rounded hover:bg-blue-100">{{ num }}</a>
                    {% endif %}
                {% endfor %}
                {% if admins.has_next %}
                    <a href="?page={{ admins.next_page_number }}" class="px-3 py-1 border rounded hover:bg-blue-100">
                        <span class="material-icons text-base">arrow_forward</span>
                    </a>
                {% endif %}
            </div>
            {% endif %}
            <!-- Action Buttons -->
            <div class="flex justify-end mt-4">
                <a href="{% url 'add_admin' %}" class="px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800" title="Add Admin">
                    <span class="material-icons align-middle text-base">add</span>
                </a>
            </div>
            
        </div>
    </div>
</div>

{% endblock content %}